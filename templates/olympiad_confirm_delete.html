{% extends 'base.html' %}

{% block content %}
<nav aria-label="breadcrumb" class="mb-4">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{% url 'index' %}" class="text-decoration-none">Главная</a></li>
    <li class="breadcrumb-item"><a href="{% url 'olymp_detail' object.id %}" class="text-decoration-none">{{ object.title }}</a></li>
    <li class="breadcrumb-item active">Удаление соревнования</li>
  </ol>
</nav>

<div class="row">
  <div class="col-md-8 mx-auto">
    <div class="card border-0 shadow-sm">
      <div class="card-body p-4">
        <h2 class="fw-bold mb-4">
          <i class="bi bi-trash me-2 text-danger"></i>Удаление соревнования
        </h2>
        
        <div class="alert alert-warning mb-4">
          <i class="bi bi-exclamation-triangle-fill me-2"></i>
          <strong>Внимание!</strong> Вы собираетесь удалить соревнование <strong>"{{ object.title }}"</strong>. 
          Это действие нельзя будет отменить. Все связанные задания, регистрации участников и отправленные решения будут также удалены.
        </div>
        
        <form method="post">
          {% csrf_token %}
          
          <div class="mb-4">
            <h5>Информация о соревновании:</h5>
            <ul class="list-group list-group-flush">
              <li class="list-group-item ps-0 border-0">
                <i class="bi bi-calendar3 me-2 text-primary"></i>
                <span class="fw-medium">Даты проведения:</span> 
                {{ object.start_at|date:"d.m.Y H:i" }} — {{ object.end_at|date:"d.m.Y H:i" }}
              </li>
              <li class="list-group-item ps-0 border-0">
                <i class="bi bi-people me-2 text-primary"></i>
                <span class="fw-medium">Количество участников:</span> 
                {{ object.participants.count }}
              </li>
              <li class="list-group-item ps-0 border-0">
                <i class="bi bi-list-check me-2 text-primary"></i>
                <span class="fw-medium">Количество заданий:</span> 
                {{ object.problems.count }}
              </li>
            </ul>
          </div>
          
          <div class="d-flex justify-content-between">
            <a href="{% url 'olymp_detail' object.id %}" class="btn btn-outline-secondary">
              <i class="bi bi-arrow-left me-1"></i>Отмена
            </a>
            <button type="submit" class="btn btn-danger">
              <i class="bi bi-trash me-1"></i>Подтвердить удаление
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %} 